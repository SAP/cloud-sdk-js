<script src="https://sap.github.io/cloud-sdk/js/swa.js"></script>
<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>connectivity/src | SAP Cloud SDK for JavaScript / TypeScript - v2.0.0</title><meta name="description" content="Documentation for SAP Cloud SDK for JavaScript / TypeScript - v2.0.0"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">SAP Cloud SDK for JavaScript / TypeScript - v2.0.0</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">SAP Cloud SDK for JavaScript / TypeScript - v2.0.0</a></li><li><a href="connectivitysrc">connectivity/src</a></li></ul><h1>Module connectivity/src</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Namespaces</h3><ul class="tsd-index-list"><li class="tsd-kind-namespace tsd-parent-kind-module"><a href="connectivitysrc.Protocol" class="tsd-kind-icon">Protocol</a></li></ul></section><section class="tsd-index-section "><h3>Enumerations</h3><ul class="tsd-index-list"><li class="tsd-kind-enum tsd-parent-kind-module"><a href="../enums/connectivitysrc.IsolationStrategy" class="tsd-kind-icon">Isolation<wbr/>Strategy</a></li><li class="tsd-kind-enum tsd-parent-kind-module"><a href="../enums/connectivitysrc.Protocol-1" class="tsd-kind-icon">Protocol</a></li></ul></section><section class="tsd-index-section "><h3>Interfaces</h3><ul class="tsd-index-list"><li class="tsd-kind-interface tsd-parent-kind-module"><a href="../interfaces/connectivitysrc.CachingOptions" class="tsd-kind-icon">Caching<wbr/>Options</a></li><li class="tsd-kind-interface tsd-parent-kind-module"><a href="../interfaces/connectivitysrc.Destination" class="tsd-kind-icon">Destination</a></li><li class="tsd-kind-interface tsd-parent-kind-module"><a href="../interfaces/connectivitysrc.DestinationAccessorOptions" class="tsd-kind-icon">Destination<wbr/>Accessor<wbr/>Options</a></li><li class="tsd-kind-interface tsd-parent-kind-module"><a href="../interfaces/connectivitysrc.DestinationFetchOptions" class="tsd-kind-icon">Destination<wbr/>Fetch<wbr/>Options</a></li><li class="tsd-kind-interface tsd-parent-kind-module"><a href="../interfaces/connectivitysrc.JwtPayload" class="tsd-kind-icon">Jwt<wbr/>Payload</a></li><li class="tsd-kind-interface tsd-parent-kind-module"><a href="../interfaces/connectivitysrc.ProxyConfiguration" class="tsd-kind-icon">Proxy<wbr/>Configuration</a></li><li class="tsd-kind-interface tsd-parent-kind-module"><a href="../interfaces/connectivitysrc.ProxyConfigurationHeaders" class="tsd-kind-icon">Proxy<wbr/>Configuration<wbr/>Headers</a></li><li class="tsd-kind-interface tsd-parent-kind-module"><a href="../interfaces/connectivitysrc.ResilienceOptions" class="tsd-kind-icon">Resilience<wbr/>Options</a></li><li class="tsd-kind-interface tsd-parent-kind-module"><a href="../interfaces/connectivitysrc.Service" class="tsd-kind-icon">Service</a></li><li class="tsd-kind-interface tsd-parent-kind-module"><a href="../interfaces/connectivitysrc.VerifyJwtOptions" class="tsd-kind-icon">Verify<wbr/>Jwt<wbr/>Options</a></li></ul></section><section class="tsd-index-section "><h3>Type aliases</h3><ul class="tsd-index-list"><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="connectivitysrc#DestinationOptions" class="tsd-kind-icon">Destination<wbr/>Options</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="connectivitysrc#DestinationOrFetchOptions" class="tsd-kind-icon">Destination<wbr/>Or<wbr/>Fetch<wbr/>Options</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="connectivitysrc#DestinationRetrievalOptions" class="tsd-kind-icon">Destination<wbr/>Retrieval<wbr/>Options</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="connectivitysrc#DestinationSelectionStrategy" class="tsd-kind-icon">Destination<wbr/>Selection<wbr/>Strategy</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="connectivitysrc#ServiceCredentials" class="tsd-kind-icon">Service<wbr/>Credentials</a></li></ul></section><section class="tsd-index-section "><h3>Functions</h3><ul class="tsd-index-list"><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#alwaysProvider" class="tsd-kind-icon">always<wbr/>Provider</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#alwaysSubscriber" class="tsd-kind-icon">always<wbr/>Subscriber</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#buildHeadersForDestination" class="tsd-kind-icon">build<wbr/>Headers<wbr/>For<wbr/>Destination</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#decodeJwt" class="tsd-kind-icon">decode<wbr/>Jwt</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#getAgentConfig" class="tsd-kind-icon">get<wbr/>Agent<wbr/>Config</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#getClientCredentialsToken" class="tsd-kind-icon">get<wbr/>Client<wbr/>Credentials<wbr/>Token</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#getDestination" class="tsd-kind-icon">get<wbr/>Destination</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#getDestinationFromDestinationService" class="tsd-kind-icon">get<wbr/>Destination<wbr/>From<wbr/>Destination<wbr/>Service</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#getUserToken" class="tsd-kind-icon">get<wbr/>User<wbr/>Token</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#jwtBearerToken" class="tsd-kind-icon">jwt<wbr/>Bearer<wbr/>Token</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#noDestinationErrorMessage" class="tsd-kind-icon">no<wbr/>Destination<wbr/>Error<wbr/>Message</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#parseDestination" class="tsd-kind-icon">parse<wbr/>Destination</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#parseProxyEnv" class="tsd-kind-icon">parse<wbr/>Proxy<wbr/>Env</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#registerDestination" class="tsd-kind-icon">register<wbr/>Destination</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#retrieveJwt" class="tsd-kind-icon">retrieve<wbr/>Jwt</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#sanitizeDestination" class="tsd-kind-icon">sanitize<wbr/>Destination</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#serviceToken" class="tsd-kind-icon">service<wbr/>Token</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#subscriberFirst" class="tsd-kind-icon">subscriber<wbr/>First</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#toDestinationNameUrl" class="tsd-kind-icon">to<wbr/>Destination<wbr/>Name<wbr/>Url</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#useOrFetchDestination" class="tsd-kind-icon">use<wbr/>Or<wbr/>Fetch<wbr/>Destination</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Type aliases</h2><section class="tsd-panel tsd-member tsd-kind-type-alias tsd-parent-kind-module"><a id="DestinationOptions" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Destination<wbr/>Options<a href="#DestinationOptions" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Destination<wbr/>Options<span class="tsd-signature-symbol">:</span> <a href="../interfaces/connectivitysrc.DestinationAccessorOptions" class="tsd-signature-type" data-tsd-kind="Interface">DestinationAccessorOptions</a><span class="tsd-signature-symbol"> &amp; </span><a href="connectivitysrc#DestinationRetrievalOptions" class="tsd-signature-type" data-tsd-kind="Type alias">DestinationRetrievalOptions</a><span class="tsd-signature-symbol"> &amp; </span><a href="../interfaces/connectivitysrc.VerifyJwtOptions" class="tsd-signature-type" data-tsd-kind="Interface">VerifyJwtOptions</a></div><aside class="tsd-sources"><ul><li>Defined in packages/connectivity/dist/scp-cf/destination/destination-accessor-types.d.ts:41</li></ul></aside></section><section class="tsd-panel tsd-member tsd-kind-type-alias tsd-parent-kind-module"><a id="DestinationOrFetchOptions" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Destination<wbr/>Or<wbr/>Fetch<wbr/>Options<a href="#DestinationOrFetchOptions" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Destination<wbr/>Or<wbr/>Fetch<wbr/>Options<span class="tsd-signature-symbol">:</span> <a href="sap_cloud_sdk_util#Xor" class="tsd-signature-type" data-tsd-kind="Type alias">Xor</a><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/connectivitysrc.Destination" class="tsd-signature-type" data-tsd-kind="Interface">Destination</a><span class="tsd-signature-symbol">, </span><a href="../interfaces/connectivitysrc.DestinationFetchOptions" class="tsd-signature-type" data-tsd-kind="Interface">DestinationFetchOptions</a><span class="tsd-signature-symbol">&gt;</span></div><aside class="tsd-sources"><ul><li>Defined in packages/connectivity/dist/scp-cf/destination/destination.d.ts:95</li></ul></aside></section><section class="tsd-panel tsd-member tsd-kind-type-alias tsd-parent-kind-module"><a id="DestinationRetrievalOptions" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Destination<wbr/>Retrieval<wbr/>Options<a href="#DestinationRetrievalOptions" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Destination<wbr/>Retrieval<wbr/>Options<span class="tsd-signature-symbol">:</span> <a href="../interfaces/connectivitysrc.CachingOptions" class="tsd-signature-type" data-tsd-kind="Interface">CachingOptions</a><span class="tsd-signature-symbol"> &amp; </span><a href="../interfaces/connectivitysrc.ResilienceOptions" class="tsd-signature-type" data-tsd-kind="Interface">ResilienceOptions</a><span class="tsd-signature-symbol"> &amp; </span><span class="tsd-signature-symbol">{ </span>isolationStrategy<span class="tsd-signature-symbol">?: </span><a href="../enums/connectivitysrc.IsolationStrategy" class="tsd-signature-type" data-tsd-kind="Enumeration">IsolationStrategy</a><span class="tsd-signature-symbol"> }</span></div><aside class="tsd-sources"><ul><li>Defined in packages/connectivity/dist/scp-cf/destination/destination-service-types.d.ts:164</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Options to use while fetching destinations. Encompasses both [[DestinationCachingOptions]] and <a href="../interfaces/connectivitysrc.ResilienceOptions">ResilienceOptions</a> interfaces.</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias tsd-parent-kind-module"><a id="DestinationSelectionStrategy" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Destination<wbr/>Selection<wbr/>Strategy<a href="#DestinationSelectionStrategy" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Destination<wbr/>Selection<wbr/>Strategy<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span>allDestinations<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AllDestinations</span>, destinationName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="../interfaces/connectivitysrc.Destination" class="tsd-signature-type" data-tsd-kind="Interface">Destination</a><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">null</span></div><aside class="tsd-sources"><ul><li>Defined in packages/connectivity/dist/scp-cf/destination/destination-selection-strategies.d.ts:7</li></ul></aside><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal tsd-parent-kind-type-alias"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>allDestinations<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AllDestinations</span>, destinationName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../interfaces/connectivitysrc.Destination" class="tsd-signature-type" data-tsd-kind="Interface">Destination</a><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">null</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><div class="tsd-comment tsd-typography"><div class="lead">
<p>Function to implement the selection strategy of the retrieved destination.
Use the built in strategies defined in [[DestinationSelectionStrategies]] or make your own function.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>allDestinations: <span class="tsd-signature-type">AllDestinations</span></h5></li><li><h5>destinationName: <span class="tsd-signature-type">string</span></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="../interfaces/connectivitysrc.Destination" class="tsd-signature-type" data-tsd-kind="Interface">Destination</a><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">null</span></h4></li></ul></li></ul></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias tsd-parent-kind-module"><a id="ServiceCredentials" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Service<wbr/>Credentials<a href="#ServiceCredentials" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Service<wbr/>Credentials<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{ </span>clientid<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> &amp; </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">{ </span>clientsecret<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">{ </span>certificate<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>key<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">)</span></div><aside class="tsd-sources"><ul><li>Defined in packages/connectivity/dist/scp-cf/environment-accessor-types.d.ts:11</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Unspecific representation of a service&#39;s credentials as read from VCAP_SERVICES (for Cloud Foundry) or mounted secrets (for K8S).</p>
</div></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Functions</h2><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-module"><a id="alwaysProvider" class="tsd-anchor"></a><h3 class="tsd-anchor-link">always<wbr/>Provider<a href="#alwaysProvider" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-module"><li class="tsd-signature tsd-kind-icon">always<wbr/>Provider<span class="tsd-signature-symbol">(</span>allDestinations<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AllDestinations</span>, destinationName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../interfaces/connectivitysrc.Destination" class="tsd-signature-type" data-tsd-kind="Interface">Destination</a><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">null</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in packages/connectivity/dist/scp-cf/destination/destination-selection-strategies.d.ts:14</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Constraints the selection to provider destinations.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>allDestinations: <span class="tsd-signature-type">AllDestinations</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Retrieved destinations.</p>
</div></div></li><li><h5>destinationName: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Name of the destination to retrieve.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <a href="../interfaces/connectivitysrc.Destination" class="tsd-signature-type" data-tsd-kind="Interface">Destination</a><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">null</span></h4><div><p>the destination to retrieve, returns <code>null</code>, if no matched provider destination is found.</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-module"><a id="alwaysSubscriber" class="tsd-anchor"></a><h3 class="tsd-anchor-link">always<wbr/>Subscriber<a href="#alwaysSubscriber" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-module"><li class="tsd-signature tsd-kind-icon">always<wbr/>Subscriber<span class="tsd-signature-symbol">(</span>allDestinations<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AllDestinations</span>, destinationName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../interfaces/connectivitysrc.Destination" class="tsd-signature-type" data-tsd-kind="Interface">Destination</a><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">null</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in packages/connectivity/dist/scp-cf/destination/destination-selection-strategies.d.ts:21</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Constraints the selection to subscriber destinations.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>allDestinations: <span class="tsd-signature-type">AllDestinations</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Retrieved destinations.</p>
</div></div></li><li><h5>destinationName: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Name of the destination to retrieve.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <a href="../interfaces/connectivitysrc.Destination" class="tsd-signature-type" data-tsd-kind="Interface">Destination</a><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">null</span></h4><div><p>the destination to retrieve, returns <code>null</code>, if no matched subscriber destination is found.</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-module"><a id="buildHeadersForDestination" class="tsd-anchor"></a><h3 class="tsd-anchor-link">build<wbr/>Headers<wbr/>For<wbr/>Destination<a href="#buildHeadersForDestination" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-module"><li class="tsd-signature tsd-kind-icon">build<wbr/>Headers<wbr/>For<wbr/>Destination<span class="tsd-signature-symbol">(</span>destination<span class="tsd-signature-symbol">: </span><a href="../interfaces/connectivitysrc.Destination" class="tsd-signature-type" data-tsd-kind="Interface">Destination</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in packages/connectivity/dist/scp-cf/header-builder-for-destination.d.ts:2</li></ul></aside><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>destination: <a href="../interfaces/connectivitysrc.Destination" class="tsd-signature-type" data-tsd-kind="Interface">Destination</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-module"><a id="decodeJwt" class="tsd-anchor"></a><h3 class="tsd-anchor-link">decode<wbr/>Jwt<a href="#decodeJwt" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-module"><li class="tsd-signature tsd-kind-icon">decode<wbr/>Jwt<span class="tsd-signature-symbol">(</span>token<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../interfaces/connectivitysrc.JwtPayload" class="tsd-signature-type" data-tsd-kind="Interface">JwtPayload</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in packages/connectivity/dist/scp-cf/jwt.d.ts:11</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Decode JWT.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>token: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>JWT to be decoded</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <a href="../interfaces/connectivitysrc.JwtPayload" class="tsd-signature-type" data-tsd-kind="Interface">JwtPayload</a></h4><div><p>Decoded payload.</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-module"><a id="getAgentConfig" class="tsd-anchor"></a><h3 class="tsd-anchor-link">get<wbr/>Agent<wbr/>Config<a href="#getAgentConfig" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-module"><li class="tsd-signature tsd-kind-icon">get<wbr/>Agent<wbr/>Config<span class="tsd-signature-symbol">(</span>destination<span class="tsd-signature-symbol">: </span><a href="../interfaces/connectivitysrc.Destination" class="tsd-signature-type" data-tsd-kind="Interface">Destination</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">HttpAgentConfig</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">HttpsAgentConfig</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in packages/connectivity/dist/http-agent/http-agent.d.ts:12</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Returns the http or https-agent config depending on the destination URL.
If the destination contains a proxy configuration, the agent will be a proxy-agent.
If not it will be the default http-agent coming from node.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>destination: <a href="../interfaces/connectivitysrc.Destination" class="tsd-signature-type" data-tsd-kind="Interface">Destination</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>determining which kind of configuration is returned</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">HttpAgentConfig</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">HttpsAgentConfig</span></h4><div><p>The http or http-agent configuration.</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-module"><a id="getClientCredentialsToken" class="tsd-anchor"></a><h3 class="tsd-anchor-link">get<wbr/>Client<wbr/>Credentials<wbr/>Token<a href="#getClientCredentialsToken" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-module"><li class="tsd-signature tsd-kind-icon">get<wbr/>Client<wbr/>Credentials<wbr/>Token<span class="tsd-signature-symbol">(</span>service<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/connectivitysrc.Service" class="tsd-signature-type" data-tsd-kind="Interface">Service</a>, userJwt<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/connectivitysrc.JwtPayload" class="tsd-signature-type" data-tsd-kind="Interface">JwtPayload</a>, options<span class="tsd-signature-symbol">?: </span><a href="../interfaces/connectivitysrc.ResilienceOptions" class="tsd-signature-type" data-tsd-kind="Interface">ResilienceOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ClientCredentialsResponse</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in packages/connectivity/dist/scp-cf/xsuaa-service.d.ts:23</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Make a user token request against the XSUAA service.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>service: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/connectivitysrc.Service" class="tsd-signature-type" data-tsd-kind="Interface">Service</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Service as it is defined in the environment variable.</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> userJwt: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/connectivitysrc.JwtPayload" class="tsd-signature-type" data-tsd-kind="Interface">JwtPayload</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>User JWT.</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> options: <a href="../interfaces/connectivitysrc.ResilienceOptions" class="tsd-signature-type" data-tsd-kind="Interface">ResilienceOptions</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Options to influence resilience behavior (see <a href="../interfaces/connectivitysrc.ResilienceOptions">ResilienceOptions</a>). By default, usage of a circuit breaker is enabled.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ClientCredentialsResponse</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>Client credentials token.</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-module"><a id="getDestination" class="tsd-anchor"></a><h3 class="tsd-anchor-link">get<wbr/>Destination<a href="#getDestination" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-module"><li class="tsd-signature tsd-kind-icon">get<wbr/>Destination<span class="tsd-signature-symbol">(</span>options<span class="tsd-signature-symbol">: </span><a href="../interfaces/connectivitysrc.DestinationFetchOptions" class="tsd-signature-type" data-tsd-kind="Interface">DestinationFetchOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/connectivitysrc.Destination" class="tsd-signature-type" data-tsd-kind="Interface">Destination</a><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in packages/connectivity/dist/scp-cf/destination/destination-accessor.d.ts:28</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Builds a destination from one of three sources (in the given order):</p>
<ul>
<li>from the environment variable &quot;destinations&quot;</li>
<li>from service bindings</li>
<li>from the destination service</li>
</ul>
</div><div><p>If you want to get a destination only from a specific source, use the corresponding function directly
 (<code>getDestinationFromEnvByName</code>, <code>destinationForServiceBinding</code>, <code>getDestinationFromDestinationService</code>).</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>options: <a href="../interfaces/connectivitysrc.DestinationFetchOptions" class="tsd-signature-type" data-tsd-kind="Interface">DestinationFetchOptions</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The options to retrieve the destination.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/connectivitysrc.Destination" class="tsd-signature-type" data-tsd-kind="Interface">Destination</a><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>A promise returning the requested destination on success.</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-module"><a id="getDestinationFromDestinationService" class="tsd-anchor"></a><h3 class="tsd-anchor-link">get<wbr/>Destination<wbr/>From<wbr/>Destination<wbr/>Service<a href="#getDestinationFromDestinationService" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-module"><li class="tsd-signature tsd-kind-icon">get<wbr/>Destination<wbr/>From<wbr/>Destination<wbr/>Service<span class="tsd-signature-symbol">(</span>options<span class="tsd-signature-symbol">: </span><a href="../interfaces/connectivitysrc.DestinationFetchOptions" class="tsd-signature-type" data-tsd-kind="Interface">DestinationFetchOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/connectivitysrc.Destination" class="tsd-signature-type" data-tsd-kind="Interface">Destination</a><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in packages/connectivity/dist/scp-cf/destination/destination-from-service.d.ts:12</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Retrieves a destination with the given name from the Cloud Foundry destination service.
Returns <code>null</code>, if no destination can be found.
Requires the following service bindings: destination, XSUAA
By default, selects subscriber over provider and instance over subaccount destinations.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>options: <a href="../interfaces/connectivitysrc.DestinationFetchOptions" class="tsd-signature-type" data-tsd-kind="Interface">DestinationFetchOptions</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Configuration for how to retrieve destinations from the destination service.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/connectivitysrc.Destination" class="tsd-signature-type" data-tsd-kind="Interface">Destination</a><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>A promise returning the requested destination on success.</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-module"><a id="getUserToken" class="tsd-anchor"></a><h3 class="tsd-anchor-link">get<wbr/>User<wbr/>Token<a href="#getUserToken" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-module"><li class="tsd-signature tsd-kind-icon">get<wbr/>User<wbr/>Token<span class="tsd-signature-symbol">(</span>service<span class="tsd-signature-symbol">: </span><a href="../interfaces/connectivitysrc.Service" class="tsd-signature-type" data-tsd-kind="Interface">Service</a>, userJwt<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, options<span class="tsd-signature-symbol">?: </span><a href="../interfaces/connectivitysrc.ResilienceOptions" class="tsd-signature-type" data-tsd-kind="Interface">ResilienceOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in packages/connectivity/dist/scp-cf/xsuaa-service.d.ts:31</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Make a user token request against the XSUAA service.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>service: <a href="../interfaces/connectivitysrc.Service" class="tsd-signature-type" data-tsd-kind="Interface">Service</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Service as it is defined in the environment variable.</p>
</div></div></li><li><h5>userJwt: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>User JWT.</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> options: <a href="../interfaces/connectivitysrc.ResilienceOptions" class="tsd-signature-type" data-tsd-kind="Interface">ResilienceOptions</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Options to influence resilience behavior (see <a href="../interfaces/connectivitysrc.ResilienceOptions">ResilienceOptions</a>). By default, usage of a circuit breaker is enabled.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>User token.</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-module"><a id="jwtBearerToken" class="tsd-anchor"></a><h3 class="tsd-anchor-link">jwt<wbr/>Bearer<wbr/>Token<a href="#jwtBearerToken" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-module"><li class="tsd-signature tsd-kind-icon">jwt<wbr/>Bearer<wbr/>Token<span class="tsd-signature-symbol">(</span>jwt<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, service<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/connectivitysrc.Service" class="tsd-signature-type" data-tsd-kind="Interface">Service</a>, options<span class="tsd-signature-symbol">?: </span><a href="../interfaces/connectivitysrc.ResilienceOptions" class="tsd-signature-type" data-tsd-kind="Interface">ResilienceOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in packages/connectivity/dist/scp-cf/token-accessor.d.ts:29</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Returns a jwt bearer token that can be used to call the given service.
The token is fetched via a JWT bearer token grant using the user token + client credentials.</p>
</div><div><p>Throws an error if there is no instance of the given service type or the XSUAA service, or if the request to the XSUAA service fails.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>jwt: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The JWT of the user for whom the access token should be fetched</p>
</div></div></li><li><h5>service: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/connectivitysrc.Service" class="tsd-signature-type" data-tsd-kind="Interface">Service</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The type of the service or an instance of <a href="../interfaces/connectivitysrc.Service">Service</a>.</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> options: <a href="../interfaces/connectivitysrc.ResilienceOptions" class="tsd-signature-type" data-tsd-kind="Interface">ResilienceOptions</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Options to influence resilience behavior (see <a href="../interfaces/connectivitysrc.ResilienceOptions">ResilienceOptions</a>). By default, usage of a circuit breaker is enabled.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>A jwt bearer token.</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-module"><a id="noDestinationErrorMessage" class="tsd-anchor"></a><h3 class="tsd-anchor-link">no<wbr/>Destination<wbr/>Error<wbr/>Message<a href="#noDestinationErrorMessage" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-module"><li class="tsd-signature tsd-kind-icon">no<wbr/>Destination<wbr/>Error<wbr/>Message<span class="tsd-signature-symbol">(</span>destination<span class="tsd-signature-symbol">: </span><a href="connectivitysrc#DestinationOrFetchOptions" class="tsd-signature-type" data-tsd-kind="Type alias">DestinationOrFetchOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in packages/connectivity/dist/scp-cf/destination/destination.d.ts:94</li></ul></aside><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>destination: <a href="connectivitysrc#DestinationOrFetchOptions" class="tsd-signature-type" data-tsd-kind="Type alias">DestinationOrFetchOptions</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-module"><a id="parseDestination" class="tsd-anchor"></a><h3 class="tsd-anchor-link">parse<wbr/>Destination<a href="#parseDestination" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-module"><li class="tsd-signature tsd-kind-icon">parse<wbr/>Destination<span class="tsd-signature-symbol">(</span>destinationJson<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">DestinationJson</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">DestinationConfiguration</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../interfaces/connectivitysrc.Destination" class="tsd-signature-type" data-tsd-kind="Interface">Destination</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in packages/connectivity/dist/scp-cf/destination/destination.d.ts:16</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Takes a JSON object returned by any of the calls to the destination service and returns an SDK compatible destination object.
This function only accepts destination configurations of type &#39;HTTP&#39; and will error if no &#39;URL&#39; is given.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>destinationJson: <span class="tsd-signature-type">DestinationJson</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">DestinationConfiguration</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>A JSON object returned by the destination service.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <a href="../interfaces/connectivitysrc.Destination" class="tsd-signature-type" data-tsd-kind="Interface">Destination</a></h4><div><p>An SDK compatible destination object.</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-module"><a id="parseProxyEnv" class="tsd-anchor"></a><h3 class="tsd-anchor-link">parse<wbr/>Proxy<wbr/>Env<a href="#parseProxyEnv" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-module"><li class="tsd-signature tsd-kind-icon">parse<wbr/>Proxy<wbr/>Env<span class="tsd-signature-symbol">(</span>proxyEnvValue<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../interfaces/connectivitysrc.ProxyConfiguration" class="tsd-signature-type" data-tsd-kind="Interface">ProxyConfiguration</a><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">undefined</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in packages/connectivity/dist/scp-cf/destination/proxy-util.d.ts:21</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Parses the environment variable for the web proxy and extracts the values considering defaults like http for the protocol and 80 or 443 for the port.
The general pattern to be parsed is <code>protocol://user:password@host:port</code>, where everything besides the host is optional.
Special characters in the user and password need to be percent encoded.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>proxyEnvValue: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Environment variable which is parsed.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <a href="../interfaces/connectivitysrc.ProxyConfiguration" class="tsd-signature-type" data-tsd-kind="Interface">ProxyConfiguration</a><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">undefined</span></h4><div><p>Configuration with default values or <code>undefined</code> if the parsing failed.</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-module"><a id="registerDestination" class="tsd-anchor"></a><h3 class="tsd-anchor-link">register<wbr/>Destination<a href="#registerDestination" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-module"><li class="tsd-signature tsd-kind-icon">register<wbr/>Destination<span class="tsd-signature-symbol">(</span>destination<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">DestinationWithName</span>, options<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">RegisterDestinationOptions</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in packages/connectivity/dist/scp-cf/destination/destination-from-registration.d.ts:15</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Registers a destination in a cache for later usage.</p>
</div><div><p>Throws an error if a destination with the same name as the given test destination already exists.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>destination: <span class="tsd-signature-type">DestinationWithName</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>A destination to add to the <code>destinations</code> cache</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> options: <span class="tsd-signature-type">RegisterDestinationOptions</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Options how to cache the destination</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-module"><a id="retrieveJwt" class="tsd-anchor"></a><h3 class="tsd-anchor-link">retrieve<wbr/>Jwt<a href="#retrieveJwt" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-module"><li class="tsd-signature tsd-kind-icon">retrieve<wbr/>Jwt<span class="tsd-signature-symbol">(</span>req<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">IncomingMessage</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">undefined</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in packages/connectivity/dist/scp-cf/jwt.d.ts:24</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Retrieve JWT from a request that is based on the node <code>IncomingMessage</code>. Fails if no authorization header is given or has the wrong format. Expected format is &#39;Bearer <TOKEN>&#39;.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>req: <span class="tsd-signature-type">IncomingMessage</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Request to retrieve the JWT from</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">undefined</span></h4><div><p>JWT found in header</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-module"><a id="sanitizeDestination" class="tsd-anchor"></a><h3 class="tsd-anchor-link">sanitize<wbr/>Destination<a href="#sanitizeDestination" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-module"><li class="tsd-signature tsd-kind-icon">sanitize<wbr/>Destination<span class="tsd-signature-symbol">(</span>destination<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../interfaces/connectivitysrc.Destination" class="tsd-signature-type" data-tsd-kind="Interface">Destination</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in packages/connectivity/dist/scp-cf/destination/destination.d.ts:9</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Takes an existing or a parsed destination and returns an SDK compatible destination object.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>destination: <span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>An object that adheres to the <a href="../interfaces/connectivitysrc.Destination">Destination</a> interface.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <a href="../interfaces/connectivitysrc.Destination" class="tsd-signature-type" data-tsd-kind="Interface">Destination</a></h4><div><p>An SDK compatible destination object.</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-module"><a id="serviceToken" class="tsd-anchor"></a><h3 class="tsd-anchor-link">service<wbr/>Token<a href="#serviceToken" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-module"><li class="tsd-signature tsd-kind-icon">service<wbr/>Token<span class="tsd-signature-symbol">(</span>service<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/connectivitysrc.Service" class="tsd-signature-type" data-tsd-kind="Interface">Service</a>, options<span class="tsd-signature-symbol">?: </span><a href="../interfaces/connectivitysrc.CachingOptions" class="tsd-signature-type" data-tsd-kind="Interface">CachingOptions</a><span class="tsd-signature-symbol"> &amp; </span><a href="../interfaces/connectivitysrc.ResilienceOptions" class="tsd-signature-type" data-tsd-kind="Interface">ResilienceOptions</a><span class="tsd-signature-symbol"> &amp; </span><span class="tsd-signature-symbol">{ </span>jwt<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/connectivitysrc.JwtPayload" class="tsd-signature-type" data-tsd-kind="Interface">JwtPayload</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in packages/connectivity/dist/scp-cf/token-accessor.d.ts:16</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Returns an access token that can be used to call the given service. The token is fetched via a client credentials grant with the credentials of the given service.
If multiple instances of the provided service exist, the first instance will be selected.
When a JWT is passed, the tenant of the JWT will be used when performing the grant.
When no JWT is passed, the grant will be performed using the provider tenant.</p>
</div><div><p>Throws an error if there is no instance of the given service type or the XSUAA service, or if the request to the XSUAA service fails.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>service: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/connectivitysrc.Service" class="tsd-signature-type" data-tsd-kind="Interface">Service</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The type of the service or an instance of <a href="../interfaces/connectivitysrc.Service">Service</a>.</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> options: <a href="../interfaces/connectivitysrc.CachingOptions" class="tsd-signature-type" data-tsd-kind="Interface">CachingOptions</a><span class="tsd-signature-symbol"> &amp; </span><a href="../interfaces/connectivitysrc.ResilienceOptions" class="tsd-signature-type" data-tsd-kind="Interface">ResilienceOptions</a><span class="tsd-signature-symbol"> &amp; </span><span class="tsd-signature-symbol">{ </span>jwt<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><a href="../interfaces/connectivitysrc.JwtPayload" class="tsd-signature-type" data-tsd-kind="Interface">JwtPayload</a><span class="tsd-signature-symbol"> }</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Options to influence caching and resilience behavior (see <a href="../interfaces/connectivitysrc.CachingOptions">CachingOptions</a> and <a href="../interfaces/connectivitysrc.ResilienceOptions">ResilienceOptions</a>, respectively) and a JWT. By default, caching and usage of a circuit breaker are enabled.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>Access token.</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-module"><a id="subscriberFirst" class="tsd-anchor"></a><h3 class="tsd-anchor-link">subscriber<wbr/>First<a href="#subscriberFirst" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-module"><li class="tsd-signature tsd-kind-icon">subscriber<wbr/>First<span class="tsd-signature-symbol">(</span>allDestinations<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">AllDestinations</span>, destinationName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../interfaces/connectivitysrc.Destination" class="tsd-signature-type" data-tsd-kind="Interface">Destination</a><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">null</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in packages/connectivity/dist/scp-cf/destination/destination-selection-strategies.d.ts:28</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Prioritizes the selection of subscriber destinations.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>allDestinations: <span class="tsd-signature-type">AllDestinations</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Retrieved destinations.</p>
</div></div></li><li><h5>destinationName: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Name of the destination to retrieve.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <a href="../interfaces/connectivitysrc.Destination" class="tsd-signature-type" data-tsd-kind="Interface">Destination</a><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">null</span></h4><div><p>the destination to retrieve, returns <code>null</code> if no matched destination is found.</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-module"><a id="toDestinationNameUrl" class="tsd-anchor"></a><h3 class="tsd-anchor-link">to<wbr/>Destination<wbr/>Name<wbr/>Url<a href="#toDestinationNameUrl" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-module"><li class="tsd-signature tsd-kind-icon">to<wbr/>Destination<wbr/>Name<wbr/>Url<span class="tsd-signature-symbol">(</span>destination<span class="tsd-signature-symbol">: </span><a href="connectivitysrc#DestinationOrFetchOptions" class="tsd-signature-type" data-tsd-kind="Type alias">DestinationOrFetchOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in packages/connectivity/dist/scp-cf/destination/destination.d.ts:52</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Transform Destination to strings containing destination information.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>destination: <a href="connectivitysrc#DestinationOrFetchOptions" class="tsd-signature-type" data-tsd-kind="Type alias">DestinationOrFetchOptions</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Either destiatnation object or destinationName and Jwt.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span></h4><div><p>string containing information on the destination</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-module"><a id="useOrFetchDestination" class="tsd-anchor"></a><h3 class="tsd-anchor-link">use<wbr/>Or<wbr/>Fetch<wbr/>Destination<a href="#useOrFetchDestination" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-parent-kind-module"><li class="tsd-signature tsd-kind-icon">use<wbr/>Or<wbr/>Fetch<wbr/>Destination<span class="tsd-signature-symbol">(</span>destination<span class="tsd-signature-symbol">: </span><a href="connectivitysrc#DestinationOrFetchOptions" class="tsd-signature-type" data-tsd-kind="Type alias">DestinationOrFetchOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/connectivitysrc.Destination" class="tsd-signature-type" data-tsd-kind="Interface">Destination</a><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in packages/connectivity/dist/scp-cf/destination/destination-accessor.d.ts:16</li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Returns the parameter if it is a destination, calls <a href="connectivitysrc#getDestination">getDestination</a> otherwise (which will try to fetch the destination
from the Cloud Foundry destination service).</p>
</div><div><p>Fetching a destination requires:</p>
<ul>
<li>a binding to exactly one XSUAA service instance with service plan &quot;application&quot;</li>
<li>a binding to a destination service instance</li>
</ul>
<p>If either of the prerequisites is not met or one of the services returns an error, this function will either throw an error or return a promise that rejects.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>destination: <a href="connectivitysrc#DestinationOrFetchOptions" class="tsd-signature-type" data-tsd-kind="Type alias">DestinationOrFetchOptions</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>A destination or the necessary parameters to fetch one.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="../interfaces/connectivitysrc.Destination" class="tsd-signature-type" data-tsd-kind="Interface">Destination</a><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>A promise resolving to the requested destination on success.</p>
<div class="container"><p>Copyright Ⓒ 2022 SAP SE or an SAP affiliate company. All rights reserved.</p></div>
</div></li></ul></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Modules</a></li><li class=" tsd-kind-module"><a href="sap_cloud_sdk_test_util">@sap-<wbr/>cloud-<wbr/>sdk/test-<wbr/>util</a></li><li class=" tsd-kind-module"><a href="sap_cloud_sdk_util">@sap-<wbr/>cloud-<wbr/>sdk/util</a></li><li class="current tsd-kind-module"><a href="connectivitysrc">connectivity/src</a><ul><li class=" tsd-kind-namespace tsd-parent-kind-module"><a href="connectivitysrc.Protocol">Protocol</a></li></ul></li><li class=" tsd-kind-module"><a href="generatorsrc">generator/src</a></li><li class=" tsd-kind-module"><a href="httpclient_src">http-<wbr/>client/src</a></li><li class=" tsd-kind-module"><a href="openapigenerator_src">openapi-<wbr/>generator/src</a></li><li class=" tsd-kind-module"><a href="openapisrc">openapi/src</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-enum tsd-parent-kind-module"><a href="../enums/connectivitysrc.IsolationStrategy" class="tsd-kind-icon">Isolation<wbr/>Strategy</a></li><li class="tsd-kind-enum tsd-parent-kind-module"><a href="../enums/connectivitysrc.Protocol-1" class="tsd-kind-icon">Protocol</a></li><li class="tsd-kind-interface tsd-parent-kind-module"><a href="../interfaces/connectivitysrc.CachingOptions" class="tsd-kind-icon">Caching<wbr/>Options</a></li><li class="tsd-kind-interface tsd-parent-kind-module"><a href="../interfaces/connectivitysrc.Destination" class="tsd-kind-icon">Destination</a></li><li class="tsd-kind-interface tsd-parent-kind-module"><a href="../interfaces/connectivitysrc.DestinationAccessorOptions" class="tsd-kind-icon">Destination<wbr/>Accessor<wbr/>Options</a></li><li class="tsd-kind-interface tsd-parent-kind-module"><a href="../interfaces/connectivitysrc.DestinationFetchOptions" class="tsd-kind-icon">Destination<wbr/>Fetch<wbr/>Options</a></li><li class="tsd-kind-interface tsd-parent-kind-module"><a href="../interfaces/connectivitysrc.JwtPayload" class="tsd-kind-icon">Jwt<wbr/>Payload</a></li><li class="tsd-kind-interface tsd-parent-kind-module"><a href="../interfaces/connectivitysrc.ProxyConfiguration" class="tsd-kind-icon">Proxy<wbr/>Configuration</a></li><li class="tsd-kind-interface tsd-parent-kind-module"><a href="../interfaces/connectivitysrc.ProxyConfigurationHeaders" class="tsd-kind-icon">Proxy<wbr/>Configuration<wbr/>Headers</a></li><li class="tsd-kind-interface tsd-parent-kind-module"><a href="../interfaces/connectivitysrc.ResilienceOptions" class="tsd-kind-icon">Resilience<wbr/>Options</a></li><li class="tsd-kind-interface tsd-parent-kind-module"><a href="../interfaces/connectivitysrc.Service" class="tsd-kind-icon">Service</a></li><li class="tsd-kind-interface tsd-parent-kind-module"><a href="../interfaces/connectivitysrc.VerifyJwtOptions" class="tsd-kind-icon">Verify<wbr/>Jwt<wbr/>Options</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="connectivitysrc#DestinationOptions" class="tsd-kind-icon">Destination<wbr/>Options</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="connectivitysrc#DestinationOrFetchOptions" class="tsd-kind-icon">Destination<wbr/>Or<wbr/>Fetch<wbr/>Options</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="connectivitysrc#DestinationRetrievalOptions" class="tsd-kind-icon">Destination<wbr/>Retrieval<wbr/>Options</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="connectivitysrc#DestinationSelectionStrategy" class="tsd-kind-icon">Destination<wbr/>Selection<wbr/>Strategy</a></li><li class="tsd-kind-type-alias tsd-parent-kind-module"><a href="connectivitysrc#ServiceCredentials" class="tsd-kind-icon">Service<wbr/>Credentials</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#alwaysProvider" class="tsd-kind-icon">always<wbr/>Provider</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#alwaysSubscriber" class="tsd-kind-icon">always<wbr/>Subscriber</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#buildHeadersForDestination" class="tsd-kind-icon">build<wbr/>Headers<wbr/>For<wbr/>Destination</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#decodeJwt" class="tsd-kind-icon">decode<wbr/>Jwt</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#getAgentConfig" class="tsd-kind-icon">get<wbr/>Agent<wbr/>Config</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#getClientCredentialsToken" class="tsd-kind-icon">get<wbr/>Client<wbr/>Credentials<wbr/>Token</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#getDestination" class="tsd-kind-icon">get<wbr/>Destination</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#getDestinationFromDestinationService" class="tsd-kind-icon">get<wbr/>Destination<wbr/>From<wbr/>Destination<wbr/>Service</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#getUserToken" class="tsd-kind-icon">get<wbr/>User<wbr/>Token</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#jwtBearerToken" class="tsd-kind-icon">jwt<wbr/>Bearer<wbr/>Token</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#noDestinationErrorMessage" class="tsd-kind-icon">no<wbr/>Destination<wbr/>Error<wbr/>Message</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#parseDestination" class="tsd-kind-icon">parse<wbr/>Destination</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#parseProxyEnv" class="tsd-kind-icon">parse<wbr/>Proxy<wbr/>Env</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#registerDestination" class="tsd-kind-icon">register<wbr/>Destination</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#retrieveJwt" class="tsd-kind-icon">retrieve<wbr/>Jwt</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#sanitizeDestination" class="tsd-kind-icon">sanitize<wbr/>Destination</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#serviceToken" class="tsd-kind-icon">service<wbr/>Token</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#subscriberFirst" class="tsd-kind-icon">subscriber<wbr/>First</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#toDestinationNameUrl" class="tsd-kind-icon">to<wbr/>Destination<wbr/>Name<wbr/>Url</a></li><li class="tsd-kind-function tsd-parent-kind-module"><a href="connectivitysrc#useOrFetchDestination" class="tsd-kind-icon">use<wbr/>Or<wbr/>Fetch<wbr/>Destination</a></li></ul></nav></div></div></div><footer class=""><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-namespace"><span class="tsd-kind-icon">Namespace</span></li><li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li><li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li><li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li><li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li><li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="overlay"></div><script src="../assets/main.js"></script></body></html>